import{h as u,K as y,e as l,f as d,R as _,i as f,j as g,S as m,k as v,l as A,T as k,m as K,p as x,r as T,a as h,b as C,q as j,o as w}from"./entry.e17c78b9.js";function s(e){return e!==null&&typeof e=="object"}function c(e,o,t=".",n){if(!s(o))return c(e,{},t,n);const a=Object.assign({},o);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const i=e[r];i!=null&&(n&&n(a,r,i,t)||(Array.isArray(i)&&Array.isArray(a[r])?a[r]=[...i,...a[r]]:s(i)&&s(a[r])?a[r]=c(i,a[r],(t?`${t}.`:"")+r.toString(),n):a[r]=i))}return a}function R(e){return(...o)=>o.reduce((t,n)=>c(t,n,"",e),{})}const S=R(),b=(e,o)=>o.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,t=>{var n;return((n=e.params[t.slice(1)])==null?void 0:n.toString())||""}),B=(e,o)=>{const t=e.route.matched.find(a=>{var r;return((r=a.components)==null?void 0:r.default)===e.Component.type}),n=o??(t==null?void 0:t.meta.key)??(t&&b(e.route,t));return typeof n=="function"?n(e.route):n},H=(e,o)=>({default:()=>e?u(y,e===!0?{}:e,o):o}),N=l({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:o}){const t=d();return()=>u(_,{name:e.name,route:e.route,...o},{default:n=>{if(!n.Component)return;const a=B(n,e.pageKey),r=t.deferHydration(),i=!!(e.transition??n.route.meta.pageTransition??f),p=i&&O([e.transition,n.route.meta.pageTransition,f,{onAfterLeave:()=>{t.callHook("page:transition:finish",n.Component)}}].filter(Boolean));return g(k,i&&p,H(e.keepalive??n.route.meta.keepalive??A,u(m,{suspensible:!0,onPending:()=>t.callHook("page:start",n.Component),onResolve:()=>{v(()=>t.callHook("page:finish",n.Component).finally(r))}},{default:()=>u(P,{key:a,routeProps:n,pageKey:a,hasTransition:i})}))).default()}})}});function L(e){return Array.isArray(e)?e:e?[e]:[]}function O(e){const o=e.map(t=>({...t,onAfterLeave:L(t.onAfterLeave)}));return S(...o)}const P=l({name:"RouteProvider",props:["routeProps","pageKey","hasTransition"],setup(e){const o=e.pageKey,t=e.routeProps.route,n={};for(const a in e.routeProps.route)n[a]=K(()=>o===e.pageKey?e.routeProps.route[a]:t[a]);return x("_route",T(n)),()=>u(e.routeProps.Component)}}),$={};function I(e,o){const t=N;return w(),C("div",null,[j(t)])}const q=h($,[["render",I]]);export{q as default};
